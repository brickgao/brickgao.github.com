<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
    <!-- Add jQuery library -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <!-- Add mousewheel plugin (this is optional) -->
    <script type="text/javascript" src="/fancybox/lib/jquery.mousewheel-3.0.6.pack.js"></script>
    <!-- Add fancyBox -->
    <link rel="stylesheet" href="/fancybox/source/jquery.fancybox.css?v=2.1.4" type="text/css" media="screen" />
    <script type="text/javascript" src="/fancybox/source/jquery.fancybox.pack.js?v=2.1.4"></script>
    <!-- Optionally add helpers - button, thumbnail and/or media -->
    <link rel="stylesheet" href="/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen" />
    <script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
    <script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.5"></script>
    <link rel="stylesheet" href="/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
    <script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
    <script type="text/javascript">
	    $(document).ready(function() {
		    $(".fancybox").fancybox();
	    });
    </script>
    <script type='text/javascript'>
    (function() {
        var c = document.createElement('script'); 
        c.type = 'text/javascript';
        c.async = true;
        c.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'www.clicki.cn/boot/48547';
        var h = document.getElementsByTagName('script')[0];
        h.parentNode.insertBefore(c, h);
    })();
    </script>  
    <meta name="author" content="Brickgao" />
    
    <title>Orange'S:一个操作系统的实现 读书笔记-2</title>
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="Brickgao's" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/style.css">
    <link rel="stylesheet" href="/media/css/github.css">
    <link rel="stylesheet" href="/media/css/fontawesome.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="/media/css/fontawesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="/media/js/highlight.pack.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
      <div id="main" role="main">
        <header>
          <div id="header">
            <h1><a title="Brickgao's" class="" href="/">Brickgao's</a></h1>
          </div>
          <nav>
            <span><a title="Archive" class="icon-list-ul" href="/archive.html"></a></span>
            <span><a title="Tags" class="icon-tags" href="/tags.html"></a></span>
            <span><a title="About" class="icon-user" href="/about.html"></a></span>
            <span><a title="Blogroll" class="icon-link" href="/links.html"></a></span>
            <span><a title="Subscribe" class="icon-rss" href="/atom.xml"></a></span>
          </nav>
        </header>
        <div id="content">
        <article>
  <section class="title">
    <h2>Orange'S:一个操作系统的实现 读书笔记-2 </h2>
  </section>
  <section class="meta">
  <span class="time">
    <time datetime="2013-05-01">2013-05-01</time>
  </span>
  
  <span class="tags">
    
    <a href="/tags.html#linux" title="linux">#linux</a>
    
    <a href="/tags.html#操作系统" title="操作系统">#操作系统</a>
    
    <a href="/tags.html#汇编" title="汇编">#汇编</a>
    
  </span>
  
  </section>
  <section class="post">
  <h3>第三章</h3>

<p>因为引导扇区空间有限，所以借用Freedos的引导扇区，通过Freedos来调试程序。</p>

<p>从实模式跳转为保护模式的步骤：<br/>
1. 将DESC_CODE32初始化<br/>
2. 把GDT的物理地址填充到GdtPtr中<br/>
3. 将GdtPtr指示的6字节加载到gdtr<br/>
4. 打开A20地址线<br/>
5. 将cr0的第0位置置为0<br/>
6. 跳转至保护模式</p>

<p>GDT/LDT均为描述表。</p>

<p>特权级由CPL、DPL、RPL三者控制。</p>

<p>代码段之间的转移分为两类：<br/>
1. 通过JMP和CALL直接转移<br/>
2. 通过某个描述符间接转移</p>

<p>分页机制：物理地址 = f(线性地址)</p>

<p>可以调用中断15H来知道机器有多少内存。</p>

<p>异常：<br/>
1. Fault 可更正的异常，一旦更正产生，程序可以不失连续性地继续执行，Fault之前的状态会被保存，返回地址为产生Fault的指令。<br/>
2. Trap 发生在trap命令执行之后立即被报告的异常，它也允许程序或任务不失连续性地执行，返回地址为产生Trap之后的指令。<br/>
3. Abort 不总是报告精确异常位置发生的异常，它不允许程序或任务继续执行，而是用来报告严重错误的。</p>

<p>发送中断：<br/>
OCW1：被写入IMR 判断此终端是否应被丢弃。<br/>
EOI：每次中断处理结束 发送一个EOI给8259A，以便继续接受中断。</p>

  </section>
  <section class="comment">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'brickgaos'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>
</article>


<section id="page_nav">
  
  <a href='/2013/04/28/hello-jekyll.html'>← Previous</a>
  
  
  <a href='/2013/05/02/talk-about-these-day.html'>Next →</a>
  
</section>


        </div>
        <footer>
          <div>
            &copy; Brickgao | powered by jekyll | themed by <a href="http://lhzhang.com" title="sext v">sext v</a> | fork <a href="https://github.com/brickgao/blog" title="fork me">me</a>
          </div>
        </footer>
      </div> <!-- main -->
  </body>
</html>
